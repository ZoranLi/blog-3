
# javascript连等赋值

遇到这个js题目时貌似自己答错了，记录理解下

```js
//先思考下，不要急着运行看答案
var a = {n:1};  //对象A1
var b = a;
a.x = a = {n:2};  //对象A2
console.log(a.x);
console.log(b.x);
```

赋值是从右到左的，但不要被绕晕了，先考虑下运算符的优先级
.运算符优先于=赋值运算符
前两句好理解，a b引用都指向同一个对象

js引擎器在遇到 a.x = a = {n:2} 语句后，会这样做：

## 解析声明

解析到a.x会先在作用域中查找a变量的引用，这时a的引用的A1，再查找是否有x属性，没有就添加x属性，属性默认值为undefined
这个时候，a b变量引用的对象A1都有了x属性

## 赋值运算

接下来执行=号的赋值运算了，赋值是从右到左，先a = {n:2}，创建新对象A2，并且a的引用指向这个新对象
再接下来是a.x = {n：2},这里的a对象引用还之前解析声明时查找到的A1
这里的a.x是在赋值执行前就确定的，也即a原指向对象的x属性，即b指向对象的x属性赋值
